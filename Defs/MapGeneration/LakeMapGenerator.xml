<?xml version="1.0" encoding="utf-8"?>
<Defs>

	<MapGeneratorDef>
		<defName>AE_BloodLakeMapGenerator</defName>
		<label>blood lake</label>
		<forceCaves>true</forceCaves>
		<ignoreAreaRevealedLetter>true</ignoreAreaRevealedLetter>
		<disableCallAid>true</disableCallAid>
		<customMapComponents>
			<li>AnomaliesExpected.BloodLakeMapComponent</li>
		</customMapComponents>
		<pocketMapProperties>
			<biome>AE_BloodLakeBiome</biome>
			<temperature>25</temperature>
		</pocketMapProperties>
		<genSteps>
			<li>ElevationFertility</li>
			<li>RocksFromGrid</li>
			<li>AE_BloodLakeTerrain</li>
			<li>AE_BloodLakeScatterRuinsSimple</li>
			<li>AE_BloodLakeScatterShrines</li>
			<li>Fleshbulbs</li>
			<li>RockChunks</li>
			<li>AE_BloodLakeFindExit</li>
			<li>AE_BloodLakeFog</li>
			<li>AE_BloodLakeFleshmass</li>
			<li>AE_BloodLakeFleshSacks</li>
			<!-- <li>AE_BloodLakeFleshmassBrood</li> -->
			<li>AE_BloodLakeFleshmassSpitterGiant</li>
			<li>AE_BloodLakeFleshmassSpitter</li>
			<li>AE_BloodLakeFleshmassSpitterSmall</li>
			<!-- <li>AE_BloodLakeFleshmassLeech</li> -->
			<li>AE_BloodLakeFleshbeasts</li>
		</genSteps>
	</MapGeneratorDef>
	

	<GenStepDef>
		<defName>AE_BloodLakeTerrain</defName>
		<order>210</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeTerrain">
			<terrainDefDefault>Flesh</terrainDefDefault>
		</genStep>
	</GenStepDef>
  
	<GenStepDef>
		<defName>AE_BloodLakeScatterRuinsSimple</defName>
		<order>300</order>
		<genStep Class="GenStep_ScatterRuinsSimple">
			<countPer10kCellsRange>1~5</countPer10kCellsRange>
			<canBeOnEdge>true</canBeOnEdge>
		</genStep>
	</GenStepDef>
  
	<GenStepDef>
		<defName>AE_BloodLakeScatterShrines</defName>
		<order>301</order>
		<genStep Class="GenStep_ScatterShrines">
			<countPer10kCellsRange><min>0.24</min><max>0.5</max></countPer10kCellsRange>
		</genStep>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFindExit</defName>
		<order>302</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFindExit">
			<BloodLakeExit>AE_BloodLakeExit</BloodLakeExit>
		</genStep>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFog</defName>
		<order>303</order>
		<genStep Class="GenStep_Fog"/>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshmass</defName>
		<order>350</order>
		<genStep Class="GenStep_Fleshmass">
			<fleshFrequency>0.10</fleshFrequency>
			<fleshThreshold>0.05</fleshThreshold>
			<bloodFrequency>0.6</bloodFrequency>
			<bloodThreshold>0.4</bloodThreshold>
		</genStep>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshSacks</defName>
		<order>351</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFleshSacks"/>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshmassSpitter</defName>
		<order>353</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFleshmassSpitter"/>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshmassSpitterGiant</defName>
		<order>352</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFleshmassSpitter">
			<numFleshSpitterPerTiles>5000</numFleshSpitterPerTiles>
			<spitterDef>AE_FleshmassSpitterGiant</spitterDef>
		</genStep>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshmassSpitterSmall</defName>
		<order>354</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFleshmassSpitter">
			<numFleshSpitterPerTiles>333</numFleshSpitterPerTiles>
			<spitterDef>AE_FleshmassSpitterSmall</spitterDef>
			<isEasyAccess>true</isEasyAccess>
		</genStep>
	</GenStepDef>

	<GenStepDef>
		<defName>AE_BloodLakeFleshbeasts</defName>
		<order>650</order>
		<genStep Class="AnomaliesExpected.GenStep_BloodLakeFleshbeasts">
			<pawnKindsPerTiles>
				<li>
					<kindDef>Fingerspike</kindDef>
					<count>200</count>
				</li>
				<li>
					<kindDef>Trispike</kindDef>
					<count>600</count>
				</li>
				<li>
					<kindDef>Toughspike</kindDef>
					<count>1000</count>
				</li>
				<li>
					<kindDef>Bulbfreak</kindDef>
					<count>3000</count>
				</li>
			</pawnKindsPerTiles>
		</genStep>
	</GenStepDef>
	
	

	<BiomeDef>
		<defName>AE_BloodLakeBiome</defName>
		<label>blood lake</label>
		<description>This cave is filled with the putrid stench of rotting flesh.</description>
		<generatesNaturally>false</generatesNaturally>
		<animalDensity>0</animalDensity>
		<plantDensity>0.20</plantDensity>
		<wildAnimalsCanWanderInto>false</wildAnimalsCanWanderInto>
		<baseWeatherCommonalities>
			<AE_BloodLakeWeather>1</AE_BloodLakeWeather>
		</baseWeatherCommonalities>
		<diseaseMtbDays>15</diseaseMtbDays>
		<diseases>
			<li>
				<diseaseInc>Disease_FibrousMechanites</diseaseInc>
				<commonality>40</commonality>
			</li>
			<li>
				<diseaseInc>Disease_SensoryMechanites</diseaseInc>
				<commonality>40</commonality>
			</li>
			<li>
				<diseaseInc>Disease_GutWorms</diseaseInc>
				<commonality>30</commonality>
			</li>
			<li>
				<diseaseInc>Disease_MuscleParasites</diseaseInc>
				<commonality>30</commonality>
			</li>
		</diseases>
		<terrainsByFertility>
			<li>
				<terrain>Sand</terrain>
				<min>-999</min>
				<max>999</max>
			</li>
		</terrainsByFertility>
	</BiomeDef>

	<WeatherDef ParentName="Underground">
		<defName>AE_BloodLakeWeather</defName>
		<label>blood lake</label>
		<ambientSounds>
			<li>Ambient_Undercave</li>
		</ambientSounds>
	</WeatherDef>
  
</Defs>